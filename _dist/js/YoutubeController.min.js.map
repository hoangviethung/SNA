{"version":3,"sources":["YoutubeController.js"],"names":["getYoutubeID","url","undefined","match","length","getYoutubeID__Banner","regExp","tag","document","createElement","src","player","player__banner","firstScriptTag","getElementsByTagName","youtubeItems","Array","from","querySelectorAll","bannerYoutubeItems","onYouTubeIframeAPIReady","Date","i","setAttribute","idRandom","elementId","getTime","toString","substring","Player","getAttribute","height","videoId","width","playerVars","autoplay","showinfo","controls","YT","events","onReady","onStateChange","onPlayerStateChange","onPlayerReady","event","mute","done","data","PlayerState","PLAYING","setTimeout","stopVideo"],"mappings":"aACA,IAAMA,aAAe,SAACC,GADtB,QAAAC,IAAAD,EAQG,OAAA,EAPH,IACKA,EAAQC,EAAAA,MADPF,+EAEJ,SAAAG,GAAa,IAAHA,EAAG,GAAAC,SACTD,EAAQF,IAQZI,qBAAA,SAAAJ,GAXF,QAAAC,IAAAD,EAoBG,OAFD,EAFA,IAFII,EAAAA,EAAAA,MAES,+EADd,SAAIJ,GAAmB,IAAXC,EAAAA,GAAZE,SACKE,EAAM,IASVC,IAAAC,SAAAC,cAAA,UAMFF,IAAIG,IAAM,qCACV,IAIAC,OAEIC,eANAC,eAAiBL,SAASM,qBAAqB,UAAU,GAM7D,SAAIF,0BAGH,IAAA,IAAMG,EAAeC,MAAMC,KAAKT,SAASU,iBAAiB,iBAD3DC,EAASC,MAATH,KAAmCT,SAAAU,iBAAA,wBAC5BH,EAAAA,EAAAA,EAAeC,EAAWR,OAASU,IAAAA,CACzC,IAAMC,GAAAA,IAAkBE,MAAGL,UAAWR,SAASU,IAAAA,UAAiB,GAG/DH,EAAaO,GAAGC,aAAa,KAAMC,GAFpC,IAAKC,EAAYV,EAAGA,GAAaX,aAAa,MACvCoB,EAAQxB,aAAe0B,EAAWC,GAAAA,aAAaC,aAErDjB,OAAMc,IAAAA,GAASI,OAAGd,EAAgBe,CAClCC,OAAMC,OAENrB,MAAM,OACLoB,QAAMC,EACNC,OAAK,CACLD,QAASA,eAERE,WAAA,CADOC,SAJyB,EAOjCD,IAAAA,EACCE,SAAA,EACAC,SAFW,KAPqB,IAAlC,IAAAf,EAAA,EAAAA,EAAAH,EAAAf,OAAAkB,IAAA,CAcA,IAAAE,GAAA,IAAAH,MAAAK,UAAAC,SAAA,IAAAC,UAAA,GAGAT,EAAmBG,GAAGC,aAAa,KAAMC,GAF1C,IAAKC,EAAWH,EAAIH,GAAkBW,aAAtC,MACON,EAAQxB,aAAe0B,EAAoBJ,GAAhCQ,aAAjB,aAIAlB,eAAiB,IAAI0B,GAAGT,OAAOJ,EAAW,CAH1CN,OAAAA,OAKCc,MAAO,OAJRD,QAAMP,EAMLc,OAAQ,CALTC,QAAMR,cAOJS,cAAiBC,qBALlBX,WAAQ,CACRE,SAAO,EACPD,SAASA,MAKG,SAAAW,cAAAC,GAKbhC,eAAAiC,OArDFhC,eAAUL,WAASC,aAAcF,IAAjCM,gBA2DC,IAAAiC,MAAA,EAEA,SAEDJ,oBAAAE,GACAA,EAAAG,MAAAT,GAAAU,YAAAC,SAAAH,OACAI,WAAAC,UAAA,KAMEL,MAAO,GAHT,SAASJ,YACR/B,QACCuC,OAAAA","file":"YoutubeController.min.js","sourcesContent":["// Get youtube ID from URL\r\nconst getYoutubeID = (url) => {\r\n\tif (url !== undefined) {\r\n\t\tvar regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\r\n\t\tvar match = url.match(regExp);\r\n\t\tif (match && match[7].length == 11) {\r\n\t\t\treturn match[7];\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\nconst getYoutubeID__Banner = (url) => {\r\n\tif (url !== undefined) {\r\n\t\tvar regExp = /^.*((youtu.be\\/)|(v\\/)|(\\/u\\/\\w\\/)|(embed\\/)|(watch\\?))\\??v?=?([^#\\&\\?]*).*/;\r\n\t\tvar match = url.match(regExp);\r\n\t\tif (match && match[7].length == 11) {\r\n\t\t\treturn match[7];\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else {\r\n\t\treturn false;\r\n\t}\r\n}\r\n\r\n// This code loads the IFrame Player API code asynchronously.\r\nvar tag = document.createElement('script');\r\n\r\ntag.src = \"https://www.youtube.com/iframe_api\";\r\nvar firstScriptTag = document.getElementsByTagName('script')[3];\r\nfirstScriptTag.parentNode.insertBefore(tag, firstScriptTag);\r\n\r\n// This function creates an <iframe> (and YouTube player)\r\n//    after the API code downloads.\r\nvar player;\r\nvar player__banner;\r\n\r\nfunction onYouTubeIframeAPIReady() {\r\n\tconst youtubeItems = Array.from(document.querySelectorAll(\".youtube-api\"));\r\n\tconst bannerYoutubeItems = Array.from(document.querySelectorAll(\".banner-youtube-api\"));\r\n\tfor (let i = 0; i < youtubeItems.length; i++) {\r\n\t\tconst idRandom = (new Date().getTime()).toString(32).substring(4);\r\n\t\tyoutubeItems[i].setAttribute('id', idRandom)\r\n\t\tconst elementId = youtubeItems[i].getAttribute('id');\r\n\t\tconst videoId = getYoutubeID(youtubeItems[i].getAttribute('data-url'));\r\n\r\n\t\tplayer = new YT.Player(elementId, {\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tvideoId: videoId,\r\n\t\t\tevents: {\r\n\t\t\t\t'onReady': onPlayerReady,\r\n\t\t\t},\r\n\t\t\tplayerVars: {\r\n\t\t\t\t'autoplay': 0,\r\n\t\t\t\t'rel': 0,\r\n\t\t\t\t'showinfo': 0,\r\n\t\t\t\t'controls': 1\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n\tfor (let i = 0; i < bannerYoutubeItems.length; i++) {\r\n\t\tconst idRandom = (new Date().getTime()).toString(32).substring(4);\r\n\t\tbannerYoutubeItems[i].setAttribute('id', idRandom)\r\n\t\tconst elementId = bannerYoutubeItems[i].getAttribute('id');\r\n\t\tconst videoId = getYoutubeID(bannerYoutubeItems[i].getAttribute('data-url'));\r\n\t\tplayer__banner = new YT.Player(elementId, {\r\n\t\t\theight: '100%',\r\n\t\t\twidth: '100%',\r\n\t\t\tvideoId: videoId,\r\n\t\t\tevents: {\r\n\t\t\t\t'onReady': onPlayerReady,\r\n\t\t\t\t'onStateChange': onPlayerStateChange\r\n\t\t\t},\r\n\t\t\tplayerVars: {\r\n\t\t\t\t'autoplay': 1,\r\n\t\t\t\t'controls': 0\r\n\t\t\t},\r\n\t\t});\r\n\t}\r\n}\r\n\r\n// OFF AUTOUPLAY\r\n// 4. The API will call this function when the video player is ready.\r\nfunction onPlayerReady(event) {\r\n\t// event.target.playVideo();\r\n\tplayer__banner.mute();\r\n}\r\n\r\n// 5. The API calls this function when the player's state changes.\r\n//    The function indicates that when playing a video (state=1),\r\n//    the player should play for six seconds and then stop.\r\nvar done = false;\r\n\r\nfunction onPlayerStateChange(event) {\r\n\tif (event.data == YT.PlayerState.PLAYING && !done) {\r\n\t\tsetTimeout(stopVideo, 6000);\r\n\t\tdone = true;\r\n\t}\r\n}\r\n\r\nfunction stopVideo() {\r\n\tif (player) {\r\n\t\tplayer.stopVideo();\r\n\t}\r\n}"]}